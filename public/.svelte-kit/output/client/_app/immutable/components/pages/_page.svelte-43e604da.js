import{S as j,i as P,s as H,k as g,q as E,a as q,l as k,m as $,r as O,h as m,c as D,n as v,I as G,b as B,G as _,J as L,u as W,K as X,L as Z,B as N,o as Q,M as K,f as I,g as tt,d as et,t as U,N as st,H as lt,w as V,x as J,y as M,z as x}from"../../chunks/index-41e027b4.js";import{w as at}from"../../chunks/index-09f3da04.js";function nt(n){const t=n-1;return t*t*t+1}function ot(n,{delay:t=0,duration:s=400,easing:e=nt,x:a=0,y:l=0,opacity:r=0}={}){const d=getComputedStyle(n),i=+d.opacity,p=d.transform==="none"?"":d.transform,y=i*(1-r);return{delay:t,duration:s,easing:e,css:(b,u)=>`
			transform: ${p} translate(${(1-b)*a}px, ${(1-b)*l}px);
			opacity: ${i-y*u}`}}const R=async()=>{let n=await fetch("http://localhost:5000/read");return n=await n.json(),n},rt=async n=>{await fetch("http://localhost:5000/write",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:n})})},ct=async n=>{await fetch(`http://localhost:5000/delete/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})},A=at([]),it=async()=>{const t=await(await fetch("http://localhost:5000/read")).json();A.set(t)};it();function ut(n){let t,s,e,a;return{c(){t=g("button"),s=E("✅"),this.h()},l(l){t=k(l,"BUTTON",{class:!0});var r=$(t);s=O(r,"✅"),r.forEach(m),this.h()},h(){v(t,"class","svelte-3cr912")},m(l,r){B(l,t,r),_(t,s),e||(a=L(t,"click",n[2]),e=!0)},p:N,d(l){l&&m(t),e=!1,a()}}}function dt(n){let t,s,e,a;return{c(){t=g("button"),s=E("❌"),this.h()},l(l){t=k(l,"BUTTON",{class:!0});var r=$(t);s=O(r,"❌"),r.forEach(m),this.h()},h(){v(t,"class","svelte-3cr912")},m(l,r){B(l,t,r),_(t,s),e||(a=L(t,"click",n[2]),e=!0)},p:N,d(l){l&&m(t),e=!1,a()}}}function ft(n){let t,s,e=n[0].task+"",a,l,r,d,i,p,y,b,u,S;function C(o,c){return o[1]?ut:dt}let w=C(n),h=w(n);return{c(){t=g("div"),s=g("p"),a=E(e),d=q(),i=g("div"),h.c(),p=q(),y=g("button"),b=E("🗑️"),this.h()},l(o){t=k(o,"DIV",{class:!0});var c=$(t);s=k(c,"P",{class:!0});var f=$(s);a=O(f,e),f.forEach(m),d=D(c),i=k(c,"DIV",{class:!0});var T=$(i);h.l(T),p=D(T),y=k(T,"BUTTON",{class:!0});var z=$(y);b=O(z,"🗑️"),z.forEach(m),T.forEach(m),c.forEach(m),this.h()},h(){v(s,"class",l=G(`${n[1]?"done":"undefined"}`)+" svelte-3cr912"),v(y,"class","svelte-3cr912"),v(i,"class","toggle"),v(t,"class","item svelte-3cr912")},m(o,c){B(o,t,c),_(t,s),_(s,a),_(t,d),_(t,i),h.m(i,null),_(i,p),_(i,y),_(y,b),u||(S=L(y,"click",n[3]),u=!0)},p(o,[c]){c&1&&e!==(e=o[0].task+"")&&W(a,e),c&2&&l!==(l=G(`${o[1]?"done":"undefined"}`)+" svelte-3cr912")&&v(s,"class",l),w===(w=C(o))&&h?h.p(o,c):(h.d(1),h=w(o),h&&(h.c(),h.m(i,p)))},i(o){r||X(()=>{r=Z(s,ot,{x:500,duration:500}),r.start()})},o:N,d(o){o&&m(t),h.d(),u=!1,S()}}}function ht(n,t,s){let{task:e}=t,a,l=e.completed;const r=()=>{s(1,l=!l);for(let i=0;i<a.length;i++)if(a[i].id===e.id){s(0,e.completed=!e.completed,e);break}A.set(a)},d=()=>{document.getElementsByClassName("item"),ct(e.id),a=a.filter(i=>i.id!==e.id),A.set(a)};return Q(async()=>{a=await R()}),n.$$set=i=>{"task"in i&&s(0,e=i.task)},[e,l,r,d]}class _t extends j{constructor(t){super(),P(this,t,ht,ft,H,{task:0})}}function Y(n,t,s){const e=n.slice();return e[6]=t[s],e}function F(n){let t,s;return t=new _t({props:{task:n[6]}}),{c(){V(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,a){M(t,e,a),s=!0},p(e,a){const l={};a&2&&(l.task=e[6]),t.$set(l)},i(e){s||(I(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){x(t,e)}}}function pt(n){let t,s;return{c(){t=g("button"),s=E("Add task"),this.h()},l(e){t=k(e,"BUTTON",{class:!0});var a=$(t);s=O(a,"Add task"),a.forEach(m),this.h()},h(){v(t,"class","svelte-1qvtinb")},m(e,a){B(e,t,a),_(t,s)},p:N,d(e){e&&m(t)}}}function mt(n){let t,s,e,a;return{c(){t=g("button"),s=E("Add task"),this.h()},l(l){t=k(l,"BUTTON",{class:!0});var r=$(t);s=O(r,"Add task"),r.forEach(m),this.h()},h(){v(t,"class","svelte-1qvtinb")},m(l,r){B(l,t,r),_(t,s),e||(a=L(t,"click",n[4]),e=!0)},p:N,d(l){l&&m(t),e=!1,a()}}}function vt(n){let t,s,e,a,l,r,d,i,p,y,b=n[1],u=[];for(let o=0;o<b.length;o+=1)u[o]=F(Y(n,b,o));const S=o=>U(u[o],1,1,()=>{u[o]=null});function C(o,c){return o[0]!==""?mt:pt}let w=C(n),h=w(n);return{c(){t=g("div"),s=g("h1"),e=E("Tasks"),a=q();for(let o=0;o<u.length;o+=1)u[o].c();l=q(),r=g("input"),d=q(),h.c(),this.h()},l(o){t=k(o,"DIV",{class:!0});var c=$(t);s=k(c,"H1",{class:!0});var f=$(s);e=O(f,"Tasks"),f.forEach(m),a=D(c);for(let T=0;T<u.length;T+=1)u[T].l(c);l=D(c),r=k(c,"INPUT",{type:!0,class:!0}),d=D(c),h.l(c),c.forEach(m),this.h()},h(){v(s,"class","svelte-1qvtinb"),v(r,"type","text"),v(r,"class","svelte-1qvtinb"),v(t,"class","todo svelte-1qvtinb")},m(o,c){B(o,t,c),_(t,s),_(s,e),_(t,a);for(let f=0;f<u.length;f+=1)u[f].m(t,null);_(t,l),_(t,r),K(r,n[0]),_(t,d),h.m(t,null),i=!0,p||(y=L(r,"input",n[3]),p=!0)},p(o,[c]){if(c&2){b=o[1];let f;for(f=0;f<b.length;f+=1){const T=Y(o,b,f);u[f]?(u[f].p(T,c),I(u[f],1)):(u[f]=F(T),u[f].c(),I(u[f],1),u[f].m(t,l))}for(tt(),f=b.length;f<u.length;f+=1)S(f);et()}c&1&&r.value!==o[0]&&K(r,o[0]),w===(w=C(o))&&h?h.p(o,c):(h.d(1),h=w(o),h&&(h.c(),h.m(t,null)))},i(o){if(!i){for(let c=0;c<b.length;c+=1)I(u[c]);i=!0}},o(o){u=u.filter(Boolean);for(let c=0;c<u.length;c+=1)U(u[c]);i=!1},d(o){o&&m(t),st(u,o),h.d(),p=!1,y()}}}function bt(n,t,s){let e;lt(n,A,p=>s(1,e=p));let a="",l;A.subscribe(p=>{l=p});const r=()=>{const p=l.length;l.push({id:p,task:a,completed:!1}),A.set(l),s(0,a="")};Q(async()=>{l=await R()});function d(){a=this.value,s(0,a)}return[a,e,r,d,()=>{rt(a),r()}]}class gt extends j{constructor(t){super(),P(this,t,bt,vt,H,{})}}function kt(n){let t,s,e,a,l,r;return l=new gt({}),{c(){t=g("body"),s=g("h1"),e=E("TODO List"),a=q(),V(l.$$.fragment),this.h()},l(d){t=k(d,"BODY",{class:!0});var i=$(t);s=k(i,"H1",{class:!0});var p=$(s);e=O(p,"TODO List"),p.forEach(m),a=D(i),J(l.$$.fragment,i),i.forEach(m),this.h()},h(){v(s,"class","svelte-1h48sbx"),v(t,"class","svelte-1h48sbx")},m(d,i){B(d,t,i),_(t,s),_(s,e),_(t,a),M(l,t,null),r=!0},p:N,i(d){r||(I(l.$$.fragment,d),r=!0)},o(d){U(l.$$.fragment,d),r=!1},d(d){d&&m(t),x(l)}}}class yt extends j{constructor(t){super(),P(this,t,null,kt,H,{})}}function $t(n){let t,s;return t=new yt({}),{c(){V(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,a){M(t,e,a),s=!0},p:N,i(e){s||(I(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){x(t,e)}}}class Et extends j{constructor(t){super(),P(this,t,null,$t,H,{})}}export{Et as default};
